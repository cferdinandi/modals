/*! Modals v10.1.0 | (c) 2016 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/modals */
!(function(e,t){"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t(e):e.modals=t(e)})("undefined"!=typeof global?global:this.window||this.global,(function(e){"use strict";var t,o,l,n={},c="querySelector"in document&&"addEventListener"in e&&"classList"in document.createElement("_"),r="closed",d={selectorToggle:"[data-modal]",selectorWindow:"[data-modal-window]",selectorClose:"[data-modal-close]",modalActiveClass:"active",modalBGClass:"modal-bg",preventBGScroll:!0,preventBGScrollHtml:!0,preventBGScrollBody:!0,backspaceClose:!0,stopVideo:!0,callbackOpen:function(){},callbackClose:function(){}},a=function(){var e={},t=!1,o=0,l=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],o++);for(var n=function(o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(t&&"[object Object]"===Object.prototype.toString.call(o[l])?e[l]=a(!0,e[l],o[l]):e[l]=o[l])};o<l;o++){var c=arguments[o];n(c)}return e},s=function(e,t){for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),o=t.length;--o>=0&&t.item(o)!==this;);return o>-1});e&&e!==document;e=e.parentNode)if(e.matches(t))return e;return null},i=function(e,t){if(t.stopVideo&&e.classList.contains(t.modalActiveClass)){var o=e.querySelector("iframe"),l=e.querySelector("video");if(o){var n=o.src;o.src=n}l&&l.pause()}},u=function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var o=document.createElement("div");o.style.width="100%",e.appendChild(o);var l=o.offsetWidth;return e.parentNode.removeChild(e),t-l},m=function(){if(!document.querySelector("[data-modal-bg]")){var e=document.createElement("div");e.setAttribute("data-modal-bg",!0),e.classList.add(l.modalBGClass),document.body.appendChild(e)}},p=function(){var e=document.querySelector("[data-modal-bg]");e&&document.body.removeChild(e)};n.closeModal=function(e){var t=a(l||d,e||{}),n=document.querySelector(t.selectorWindow+"."+t.modalActiveClass);n&&(i(n,t),n.classList.remove(t.modalActiveClass),p(),r="closed",t.preventBGScroll&&(document.documentElement.style.overflowY="",document.body.style.overflowY="",document.body.style.paddingRight=""),t.callbackClose(o,n),o&&(o.focus(),o=null))},n.openModal=function(e,c,s){var i=a(l||d,s||{}),u=document.querySelector(c);"open"===r&&n.closeModal(i),e&&(o=e),u.classList.add(i.modalActiveClass),m(),r="open",u.setAttribute("tabindex","-1"),u.focus(),i.preventBGScroll&&(i.preventBGScrollHtml&&(document.documentElement.style.overflowY="hidden"),i.preventBGScrollBody&&(document.body.style.overflowY="hidden"),document.body.style.paddingRight=t+"px"),i.callbackOpen(e,u)};var v=function(e){var t=e.target,o=s(t,l.selectorToggle),c=s(t,l.selectorClose),d=s(t,l.selectorWindow),a=e.keyCode;if(a&&"open"===r)(27===a||l.backspaceClose&&(8===a||46===a))&&n.closeModal();else if(t){if(d&&!c)return;!o||a&&13!==a?"open"===r&&(e.preventDefault(),n.closeModal()):(e.preventDefault(),n.openModal(o,o.getAttribute("data-modal"),l))}};return n.destroy=function(){l&&(document.removeEventListener("click",v,!1),document.removeEventListener("touchstart",v,!1),document.removeEventListener("keydown",v,!1),document.documentElement.style.overflowY="",document.body.style.overflowY="",document.body.style.paddingRight="",t=null,o=null,l=null)},n.init=function(e){c&&(n.destroy(),l=a(d,e||{}),t=u(),document.addEventListener("click",v,!1),document.addEventListener("touchstart",v,!1),document.addEventListener("keydown",v,!1))},n}));